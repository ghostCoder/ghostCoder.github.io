"use strict";(self.webpackChunkTeams_PR_Manager=self.webpackChunkTeams_PR_Manager||[]).push([[428],{3428:(e,a,t)=>{t.r(a),t.d(a,{AtlassianAuthentication:()=>g});var n=t(2791),i=t(1981),l=t(2027),o=t(9069);var c=t(9921),s=t(9664),r=t(8114),h=t(9132),d=t(645);const u=t.p+"static/media/atlassian-logo-blue.d7db2ff89c7746840661a29a32f36a60.svg";var p=t(184);const g=e=>{let{setAtlassianInCache:a,atlassianInCache:t}=e;const[g,m]=(0,n.useState)(!1);return(0,p.jsxs)(h.K,{verticalAlign:"center",horizontalAlign:"center",enableScopedSelectors:!0,tokens:{childrenGap:"1.8em"},children:[(0,p.jsx)(c.E,{alt:"Atlassian logo",src:u,height:60,width:350}),(0,p.jsxs)(h.K,{verticalAlign:"center",horizontalAlign:"center",enableScopedSelectors:!0,tokens:{childrenGap:"1.5em"},children:[(0,p.jsx)(s.x,{size:400,children:!1===t?"In order to fetch data from Jira we need you to do authentication by pressing the button:":"Atlassian account authenticated!"}),(0,p.jsxs)(h.K,{horizontal:!0,enableScopedSelectors:!0,tokens:{childrenGap:"1em"},verticalAlign:"center",children:[(0,p.jsx)(r.z,{disabled:g||t,appearance:"primary",onClick:()=>{!function(e,a){a(!0),o.app.initialize().then((async()=>{o.authentication.authenticate({url:window.location.origin+(window.location.pathname.includes("configuration.html")?window.location.pathname.slice(0,-21):window.location.pathname.slice(0,-1))+"/atlassian-auth-start.html",width:600,height:900,successCallback:function(t){const n=JSON.parse(t);localStorage.setItem((0,i.p)(),n.refresh_token),e(!0),a(!1)},failureCallback:function(e){console.log("Atlassian authentication failed: ",e),localStorage.removeItem((0,i.p)()),localStorage.removeItem((0,l.o)()),a(!1)}})}))}(a,m)},children:"Authenticate"}),t&&(0,p.jsx)(d.Iqn,{})]})]})]})}}}]);
//# sourceMappingURL=428.edf2116b.chunk.js.map