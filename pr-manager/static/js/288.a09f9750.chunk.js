"use strict";(self.webpackChunkTeams_PR_Manager=self.webpackChunkTeams_PR_Manager||[]).push([[288],{4288:(e,n,s)=>{s.r(n),s.d(n,{GroupsMergedPRs:()=>b});var r,t=s(2791),a=s(3173),o=s(9313),i=s(7905),l=s(2315),d=s(5792),u=s(7974),c=s(168);const m=(0,s(9383).Ps)(r||(r=(0,c.Z)(["\n  query AllMembersPRs($members: [String!]!) {\n    users(usernames: $members) {\n      nodes {\n        authoredMergeRequests(state: merged, first: 20) {\n          nodes {\n            id\n            author {\n              username\n              name\n            }\n            title\n            webUrl\n            reviewers {\n              nodes {\n                username\n                name\n              }\n            }\n            labels {\n              nodes {\n                title\n              }\n            }\n            approvedBy {\n              nodes {\n                name\n                username\n              }\n            }\n            project {\n              fullPath\n            }\n            iid\n            headPipeline {\n              status\n            }\n          }\n        }\n      }\n    }\n  }\n"])));var g=s(6147),h=s(184);const b=()=>{const{members:e,reload:n}=(0,t.useContext)(u.Kz),{setGitInCache:s}=(0,t.useContext)(u.zm),[r,c]=(0,t.useState)(!1);(async()=>{try{const e=await(0,d.a)();console.log("GitLab PAT validated: ",e)}catch(P){console.log("GitLab PAT validation failed: ",P),String(P).startsWith("TypeError: Failed to fetch")?!1===r&&c(!0):s(!1)}})();const{data:b,error:P,loading:p}=(0,a.a)(m,{variables:{members:e.map((e=>e.username))},fetchPolicy:"network-only",nextFetchPolicy:"cache-and-network"});console.log("GORUPS MERGED PRS: ",b,P,p);const f=(0,t.useMemo)((()=>null===b||void 0===b?void 0:b.users.nodes.reduce(((e,n)=>(e.push(...n.authoredMergeRequests.nodes),e)),[])),[b]);return r?(0,h.jsx)(i.Error,{errorMessage:"Failed to fetch: offline or your network doesn't have access to GitLab",reload:n}):p?(0,h.jsx)(o.g,{loadingText:"Fetching PR's from GitLab..."}):(P&&(i.Error,String(P)),void 0===f?(s(!1),null):(0,h.jsx)(l.N,{data:f,tabType:g.gn.groupsMergedPRs}))}}}]);
//# sourceMappingURL=288.a09f9750.chunk.js.map