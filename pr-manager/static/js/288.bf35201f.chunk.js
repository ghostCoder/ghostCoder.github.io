"use strict";(self.webpackChunkTeams_PR_Manager=self.webpackChunkTeams_PR_Manager||[]).push([[288],{4288:(e,n,s)=>{s.r(n),s.d(n,{GroupsMergedPRs:()=>m});var t,a=s(2791),r=s(3173),o=s(9313),l=s(5792),d=s(7974),i=s(168);const u=(0,s(9383).Ps)(t||(t=(0,i.Z)(["\n  query AllMembersPRs($members: [String!]!) {\n    users(usernames: $members) {\n      nodes {\n        authoredMergeRequests(state: merged, first: 20) {\n          nodes {\n            id\n            author {\n              username\n              name\n            }\n            title\n            webUrl\n            reviewers {\n              nodes {\n                username\n                name\n              }\n            }\n            labels {\n              nodes {\n                title\n              }\n            }\n            approvedBy {\n              nodes {\n                name\n                username\n              }\n            }\n            project {\n              fullPath\n            }\n            iid\n            headPipeline {\n              status\n            }\n          }\n        }\n      }\n    }\n  }\n"])));var c=s(6147),g=s(184);const m=()=>{const{members:e,reload:n}=(0,a.useContext)(d.Kz),{setGitInCache:t}=(0,a.useContext)(d.zm),[i,m]=(0,a.useState)(!1);(async()=>{try{const e=await(0,l.a)();console.log("GitLab PAT validated: ",e)}catch(b){console.log("GitLab PAT validation failed: ",b),String(b).startsWith("TypeError: Failed to fetch")?!1===i&&m(!0):t(!1)}})();const{data:h,error:b,loading:f}=(0,r.a)(u,{variables:{members:e.map((e=>e.username))},fetchPolicy:"network-only",nextFetchPolicy:"cache-and-network"});console.log("GORUPS MERGED PRS: ",h,b,f);const p=(0,a.useMemo)((()=>null===h||void 0===h?void 0:h.users.nodes.reduce(((e,n)=>(e.push(...n.authoredMergeRequests.nodes),e)),[])),[h]),P=a.lazy((()=>Promise.resolve().then(s.bind(s,7905)).then((e=>({default:e.Error})))));if(i)return(0,g.jsx)(a.Suspense,{fallback:(0,g.jsx)(o.g,{loadingText:""}),children:(0,g.jsx)(P,{errorMessage:"Failed to fetch: offline or your network doesn't have access to GitLab",reload:n})});if(f)return(0,g.jsx)(o.g,{loadingText:"Fetching PR's from GitLab..."});if(b&&(a.Suspense,o.g,String(b)),void 0===p)return t(!1),null;{const e=a.lazy((()=>s.e(97).then(s.bind(s,8495)).then((e=>({default:e.AddData})))));return(0,g.jsx)(a.Suspense,{fallback:(0,g.jsx)(o.g,{loadingText:"Loading Groups merged PR's tab"}),children:(0,g.jsx)(e,{data:p,tabType:c.gn.groupsMergedPRs})})}}}}]);
//# sourceMappingURL=288.bf35201f.chunk.js.map