"use strict";(self.webpackChunkTeams_PR_Manager=self.webpackChunkTeams_PR_Manager||[]).push([[192],{192:(e,n,s)=>{s.r(n),s.d(n,{GroupPRs:()=>b});var a,r=s(2791),t=s(3173),o=s(9313),d=s(7905),i=s(2315),l=s(5792),u=s(7974),c=s(168);const m=(0,s(9383).Ps)(a||(a=(0,c.Z)(["\n  query AllMembersPRs($members: [String!]!) {\n    users(usernames: $members) {\n      nodes {\n        authoredMergeRequests(state: opened) {\n          nodes {\n            id\n            author {\n              username\n              name\n            }\n            title\n            webUrl\n            reviewers {\n              nodes {\n                username\n                name\n              }\n            }\n            labels {\n              nodes {\n                title\n              }\n            }\n            draft\n            conflicts\n            approvedBy {\n              nodes {\n                name\n                username\n              }\n            }\n            project {\n              fullPath\n            }\n            iid\n            autoMergeEnabled\n            approved\n            headPipeline {\n              status\n            }\n          }\n        }\n      }\n    }\n  }\n"])));var h=s(6147),g=s(184);const b=()=>{const{members:e,reload:n}=(0,r.useContext)(u.Kz),{setGitInCache:s}=(0,r.useContext)(u.zm),[a,c]=(0,r.useState)(!1);(async()=>{try{const e=await(0,l.a)();console.log("GitLab PAT validated: ",e)}catch(p){console.log("GitLab PAT validation failed: ",p),String(p).startsWith("TypeError: Failed to fetch")?!1===a&&c(!0):s(!1)}})();const{data:b,error:p,loading:P}=(0,t.a)(m,{variables:{members:e.map((e=>e.username))},fetchPolicy:"network-only",nextFetchPolicy:"cache-and-network"}),f=(0,r.useMemo)((()=>null===b||void 0===b?void 0:b.users.nodes.reduce(((e,n)=>(e.push(...n.authoredMergeRequests.nodes),e)),[])),[b]);return a?(0,g.jsx)(d.Error,{errorMessage:"Failed to fetch: offline or your network doesn't have access to gitLab",reload:n}):P?(0,g.jsx)(o.g,{loadingText:"Fetching PR's from GitLab..."}):(p&&(d.Error,String(p)),void 0===f?(s(!1),null):(0,g.jsx)(i.N,{data:f,tabType:h.gn.groupPRs}))}}}]);
//# sourceMappingURL=192.9dc04d03.chunk.js.map